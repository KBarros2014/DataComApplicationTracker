<h2 class="page-title">Job Applications</h2>

<div *ngIf="loading" class="loading-indicator">
  Loading applications...
</div>

<div *ngIf="error" class="error-message">
  {{ error }}
</div>

<table *ngIf="!loading && !error" class="applications-table">
  <thead>
    <tr>
      <th>Company</th>
      <th>Position</th>
      <th>Status</th>
      <th>Date Applied</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let app of applications">
      <td>{{ app.companyName }}</td>
      <td>{{ app.position }}</td>
      <td>
        <select [(ngModel)]="app.status" (change)="updateStatus(app)" class="status-select">
          <option value="Applied">Applied</option>
          <option value="Interview">Interview</option>
          <option value="Offer">Offer</option>
          <option value="Rejected">Rejected</option>
        </select>
      </td>
      <td>{{ app.dateApplied }}</td>
      <td>
        <button class="action-button edit-button" [routerLink]="['/edit', app.id]">
          Edit
        </button>
      </td>
    </tr>
    <tr *ngIf="applications.length === 0">
      <td colspan="5" class="no-data">No applications found.</td>
    </tr>
  </tbody>
</table>

<button class="add-button" routerLink="/add">
  Add Job Application
</button>
